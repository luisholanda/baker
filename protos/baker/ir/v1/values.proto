syntax = "proto3";

package baker.ir.v1;

// A IR value.
message Value {
  // The value
  oneof value {
    // A raw value in the final concrete language.
    //
    // - Layers MUST ensure that the string is a valid value in the language.
    // - Codegens MUST interpolate this string directly in the final file content.
    string raw = 1;
    // A function call.
    FunctionCall call = 2;
    // An identifier.
    string identifier = 3;
  };
}

// A IR function call.
message FunctionCall {
  // The function being called.
  string function = 1;
  // Positional arguments in the call.
  repeated Value args = 2;
  // Keyword arguments in the call.
  map<string, Value> kwargs = 3;
}
